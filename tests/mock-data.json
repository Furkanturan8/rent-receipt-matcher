{
    "database_records": {
      "owners": [
        {
          "id": 1,
          "owner_number": "MS20251100001",
          "first_name": "Ahmet",
          "last_name": "Yılmaz",
          "identity_number": "12345678901",
          "email": "ahmet.yilmaz@email.com",
          "phone": "+90 532 123 4567",
          "iban": "TR33 0006 1005 1978 6457 8413 26",
          "full_name": "Ahmet Yılmaz"
        },
        {
          "id": 2,
          "owner_number": "MS20251100002",
          "first_name": "Ayşe",
          "last_name": "Demir",
          "identity_number": "98765432109",
          "email": "ayse.demir@email.com",
          "phone": "+90 533 987 6543",
          "iban": "TR12 0001 0002 3456 7890 1234 56",
          "full_name": "Ayşe Demir"
        },
        {
          "id": 3,
          "owner_number": "MS20251100003",
          "first_name": "Mehmet",
          "last_name": "Kaya",
          "identity_number": "11223344556",
          "email": "mehmet.kaya@email.com",
          "phone": "+90 534 555 7788",
          "iban": "TR45 0004 6000 8888 8000 0123 45",
          "full_name": "Mehmet Kaya"
        }
      ],
      "customers": [
        {
          "id": 1,
          "customer_type": "individual",
          "first_name": "Zeynep",
          "last_name": "Şahin",
          "email": "zeynep.sahin@email.com",
          "phone": "+90 535 111 2233",
          "tax_number": "55667788990",
          "full_name": "Zeynep Şahin"
        },
        {
          "id": 2,
          "customer_type": "individual",
          "first_name": "Can",
          "last_name": "Öztürk",
          "email": "can.ozturk@email.com",
          "phone": "+90 536 222 3344",
          "tax_number": "44556677889",
          "full_name": "Can Öztürk"
        },
        {
          "id": 3,
          "customer_type": "corporate",
          "company_name": "Teknoloji A.Ş.",
          "email": "info@teknoloji.com",
          "phone": "+90 212 555 9999",
          "tax_number": "1234567890",
          "full_name": "Teknoloji A.Ş."
        }
      ],
      "properties": [
        {
          "id": 1,
          "title": "Beşiktaş 3+1 Daire",
          "owner_id": 1,
          "listing_type": "rent",
          "city": "İstanbul",
          "district": "Beşiktaş",
          "address": "Sinanpaşa Mahallesi, Bestekar Sokak No:15 Daire:8",
          "rooms": "3+1",
          "price": 45000
        },
        {
          "id": 2,
          "title": "Kadıköy 2+1 Daire",
          "owner_id": 2,
          "listing_type": "rent",
          "city": "İstanbul",
          "district": "Kadıköy",
          "address": "Moda Mahallesi, Deniz Caddesi No:42 Kat:5 Daire:12",
          "rooms": "2+1",
          "price": 35000
        },
        {
          "id": 3,
          "title": "Şişli Ofis",
          "owner_id": 3,
          "listing_type": "rent",
          "city": "İstanbul",
          "district": "Şişli",
          "address": "Mecidiyeköy Mahallesi, Plaza Sokak No:7 Kat:3",
          "rooms": null,
          "price": 75000
        }
      ]
    },
    "dekont_ornekleri": [
      {
        "dekont_id": "DEKONT_001",
        "description": "Standart kira ödemesi - bireysel kiracı",
        "ocr_cikti": {
          "banka_adi": "ZİRAAT BANKASI",
          "islem_turu": "HAVALE",
          "gonderen_adi": "ZEYNEP ŞAHİN",
          "gonderen_hesap": "TR88 0001 0012 3456 7890 1234 56",
          "alici_adi": "AHMET YILMAZ",
          "alici_hesap": "TR33 0006 1005 1978 6457 8413 26",
          "tutar": "45.000,00",
          "para_birimi": "TRY",
          "islem_tarihi": "20.11.2024",
          "islem_saati": "14:32:15",
          "referans_no": "ZB2024112012345678",
          "aciklama": "KASIM 2024 KİRA BEŞİKTAŞ SİNANPAŞA MAH. DAİRE:8",
          "dekont_no": "DK-2024-11-20-001"
        },
        "beklenen_esleme": {
          "owner_id": 1,
          "customer_id": 1,
          "property_id": 1,
          "esleme_ipuclari": {
            "alici_iban": "TR33 0006 1005 1978 6457 8413 26",
            "alici_isim": "AHMET YILMAZ",
            "aciklamada_adres": "BEŞİKTAŞ SİNANPAŞA",
            "aciklamada_daire": "DAİRE:8",
            "tutar": 45000
          }
        }
      },
      {
        "dekont_id": "DEKONT_002",
        "description": "Kira ödemesi - isim farklılıkları ile",
        "ocr_cikti": {
          "banka_adi": "AKBANK",
          "islem_turu": "EFT",
          "gonderen_adi": "CAN OZTURK",
          "gonderen_hesap": "TR66 0004 6000 1234 5678 9012 34",
          "alici_adi": "AYSE DEMÍR",
          "alici_hesap": "TR12 0001 0002 3456 7890 1234 56",
          "tutar": "35.000,00",
          "para_birimi": "TL",
          "islem_tarihi": "18.11.2024",
          "islem_saati": "09:15:42",
          "referans_no": "AK20241118987654",
          "aciklama": "Kasim kira MODA DAİRE 12",
          "dekont_no": "DK-2024-11-18-002"
        },
        "beklenen_esleme": {
          "owner_id": 2,
          "customer_id": 2,
          "property_id": 2,
          "esleme_ipuclari": {
            "alici_iban": "TR12 0001 0002 3456 7890 1234 56",
            "alici_isim_benzerlik": "AYSE DEMIR vs AYSE DEMÍR (Türkçe karakter farklılığı)",
            "aciklamada_adres": "MODA",
            "aciklamada_daire": "DAİRE 12",
            "tutar": 35000
          }
        }
      },
      {
        "dekont_id": "DEKONT_003",
        "description": "Kurumsal kira ödemesi - ofis",
        "ocr_cikti": {
          "banka_adi": "İŞ BANKASI",
          "islem_turu": "HAVALE",
          "gonderen_adi": "TEKNOLOJİ ANONİM ŞİRKETİ",
          "gonderen_hesap": "TR98 0006 4000 0011 1234 5678 90",
          "alici_adi": "MEHMET KAYA",
          "alici_hesap": "TR45 0004 6000 8888 8000 0123 45",
          "tutar": "75000,00",
          "para_birimi": "TRY",
          "islem_tarihi": "15.11.2024",
          "islem_saati": "16:45:30",
          "referans_no": "IB2024111509876543",
          "aciklama": "2024/11 OFİS KİRASI MECİDİYEKÖY PLAZA KAT:3",
          "dekont_no": "DK-2024-11-15-003"
        },
        "beklenen_esleme": {
          "owner_id": 3,
          "customer_id": 3,
          "property_id": 3,
          "esleme_ipuclari": {
            "alici_iban": "TR45 0004 6000 8888 8000 0123 45",
            "alici_isim": "MEHMET KAYA",
            "gonderen_kurum": "TEKNOLOJİ ANONİM ŞİRKETİ",
            "aciklamada_adres": "MECİDİYEKÖY PLAZA",
            "tutar": 75000
          }
        }
      },
      {
        "dekont_id": "DEKONT_004",
        "description": "Eksik bilgili dekont - sadece IBAN ve tutar net",
        "ocr_cikti": {
          "banka_adi": "GARANTİ BBVA",
          "islem_turu": "EFT",
          "gonderen_adi": "Z.SAHIN",
          "gonderen_hesap": "TR11 0006 2000 5550 0000 1234 56",
          "alici_adi": "A.YILMAZ",
          "alici_hesap": "TR33 0006 1005 1978 6457 8413 26",
          "tutar": "45.000",
          "para_birimi": "TRY",
          "islem_tarihi": "05.11.2024",
          "islem_saati": "11:20",
          "referans_no": "GB20241105445566",
          "aciklama": "kira",
          "dekont_no": "DK-2024-11-05-004"
        },
        "beklenen_esleme": {
          "owner_id": 1,
          "customer_id": 1,
          "property_id": 1,
          "esleme_ipuclari": {
            "alici_iban": "TR33 0006 1005 1978 6457 8413 26",
            "alici_isim_kisaltma": "A.YILMAZ",
            "gonderen_kisaltma": "Z.SAHIN",
            "tutar": 45000,
            "not": "IBAN ana eşleştirme kriteri olmalı"
          }
        }
      },
      {
        "dekont_id": "DEKONT_005",
        "description": "OCR hataları içeren dekont",
        "ocr_cikti": {
          "banka_adi": "YAPI KREDİ",
          "islem_turu": "HAVALE",
          "gonderen_adi": "CAN 0ZTURK",
          "gonderen_hesap": "TR66O0046OOO12345678901234",
          "alici_adi": "AY5E DEMlR",
          "alici_hesap": "TR12 OOO1 OOO2 3456 789O 1234 56",
          "tutar": "35,OOO.OO",
          "para_birimi": "TRY",
          "islem_tarihi": "2O.11.2O24",
          "islem_saati": "1O:3O",
          "referans_no": "YK2O24111O123456",
          "aciklama": "KASIM K1RA M0DA",
          "dekont_no": "DK-2O24-11-2O-OO5"
        },
        "beklenen_esleme": {
          "owner_id": 2,
          "customer_id": 2,
          "property_id": 2,
          "ocr_duzeltmeler": {
            "gonderen_adi": "CAN 0ZTURK -> CAN ÖZTÜRK (0 yerine Ö)",
            "gonderen_hesap": "O harfi sıfır olmalı",
            "alici_adi": "AY5E DEMlR -> AYŞE DEMİR (5 yerine Ş, l yerine İ)",
            "alici_hesap": "O harfi sıfır olmalı",
            "tutar": "35,OOO.OO -> 35000.00 (O harfi sıfır)",
            "islem_tarihi": "2O -> 20 (O harfi sıfır)",
            "aciklama": "1 yerine İ, 0 yerine O"
          },
          "esleme_ipuclari": {
            "fuzzy_matching_gerekli": true,
            "iban_normalize": "Boşlukları kaldır, O/0 dönüşümü yap",
            "isim_benzerlik_threshold": 0.8
          }
        }
      }
    ],
    "esleme_algoritmasi_onerileri": {
      "oncelik_sirasi": [
        {
          "sira": 1,
          "kriter": "IBAN eşleşmesi",
          "aciklama": "Alıcı IBAN'ı Owner IBAN ile tam eşleşmeli",
          "guven_skoru": 95
        },
        {
          "sira": 2,
          "kriter": "Tutar eşleşmesi",
          "aciklama": "Dekont tutarı property price ile eşleşmeli (±%5 tolerans)",
          "guven_skoru": 85
        },
        {
          "sira": 3,
          "kriter": "İsim benzerliği",
          "aciklama": "Alıcı adı Owner ismi ile fuzzy match (Levenshtein distance)",
          "guven_skoru": 75
        },
        {
          "sira": 4,
          "kriter": "Adres bilgisi",
          "aciklama": "Açıklama içinde property address parçaları (mahalle, sokak, daire)",
          "guven_skoru": 70
        },
        {
          "sira": 5,
          "kriter": "Gönderen bilgisi",
          "aciklama": "Gönderen adı Customer ismi ile eşleşmeli",
          "guven_skoru": 60
        }
      ],
      "normalizasyon_kurallari": {
        "iban": [
          "Tüm boşlukları kaldır",
          "Büyük harfe çevir",
          "O harfi yerine 0 (sıfır) kontrol et",
          "I/l harfi yerine 1 kontrol et"
        ],
        "isim": [
          "Büyük harfe çevir",
          "Türkçe karakterleri normalize et (ı->I, ş->S, ğ->G, ü->U, ö->O, ç->C)",
          "Çift boşlukları tek boşluğa indir",
          "Başta/sonda boşlukları temizle"
        ],
        "tutar": [
          "Nokta ve virgül işaretlerini standardize et",
          "TL/TRY/₺ ifadelerini temizle",
          "Decimal olarak parse et"
        ],
        "tarih": [
          "Farklı formatları destekle (DD.MM.YYYY, DD/MM/YYYY)",
          "OCR hataları için 0/O kontrolü"
        ]
      }
    }
  }
  
  