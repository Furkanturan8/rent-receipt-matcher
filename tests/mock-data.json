{
    "database_records": {
      "owners": [
        {
          "id": 1,
          "owner_number": "MS20251100001",
          "first_name": "Ahmet",
          "last_name": "Yılmaz",
          "identity_number": "12345678901",
          "email": "ahmet.yilmaz@email.com",
          "phone": "+90 532 123 4567",
          "iban": "TR33 0006 1005 1978 6457 8413 26",
          "full_name": "Ahmet Yılmaz"
        },
        {
          "id": 2,
          "owner_number": "MS20251100002",
          "first_name": "Ayşe",
          "last_name": "Demir",
          "identity_number": "98765432109",
          "email": "ayse.demir@email.com",
          "phone": "+90 533 987 6543",
          "iban": "TR12 0001 0002 3456 7890 1234 56",
          "full_name": "Ayşe Demir"
        },
        {
          "id": 3,
          "owner_number": "MS20251100003",
          "first_name": "Mehmet",
          "last_name": "Kaya",
          "identity_number": "11223344556",
          "email": "mehmet.kaya@email.com",
          "phone": "+90 534 555 7788",
          "iban": "TR45 0004 6000 8888 8000 0123 45",
          "full_name": "Mehmet Kaya"
        }
      ],
      "customers": [
        {
          "id": 1,
          "customer_type": "individual",
          "first_name": "Zeynep",
          "last_name": "Şahin",
          "email": "zeynep.sahin@email.com",
          "phone": "+90 535 111 2233",
          "tax_number": "55667788990",
          "full_name": "Zeynep Şahin"
        },
        {
          "id": 2,
          "customer_type": "individual",
          "first_name": "Can",
          "last_name": "Öztürk",
          "email": "can.ozturk@email.com",
          "phone": "+90 536 222 3344",
          "tax_number": "44556677889",
          "full_name": "Can Öztürk"
        },
        {
          "id": 3,
          "customer_type": "corporate",
          "company_name": "Teknoloji A.Ş.",
          "email": "info@teknoloji.com",
          "phone": "+90 212 555 9999",
          "tax_number": "1234567890",
          "full_name": "Teknoloji A.Ş."
        }
      ],
      "properties": [
        {
          "id": 1,
          "title": "Beşiktaş 3+1 Daire",
          "owner_id": 1,
          "customer_id": 1,
          "listing_type": "rent",
          "city": "İstanbul",
          "district": "Beşiktaş",
          "address": "Sinanpaşa Mahallesi, Bestekar Sokak No:15 Daire:8",
          "rooms": "3+1",
          "price": 45000
        },
        {
          "id": 2,
          "title": "Kadıköy 2+1 Daire",
          "owner_id": 2,
          "customer_id": 2,
          "listing_type": "rent",
          "city": "İstanbul",
          "district": "Kadıköy",
          "address": "Moda Mahallesi, Deniz Caddesi No:42 Kat:5 Daire:12",
          "rooms": "2+1",
          "price": 35000
        },
        {
          "id": 3,
          "title": "Şişli Ofis",
          "owner_id": 3,
          "customer_id": 3,
          "listing_type": "rent",
          "city": "İstanbul",
          "district": "Şişli",
          "address": "Mecidiyeköy Mahallesi, Plaza Sokak No:7 Kat:3",
          "rooms": null,
          "price": 75000
        }
      ]
    },
    "dekont_ornekleri": [
      {
        "dekont_id": "DEKONT_001",
        "description": "Standart kira ödemesi - bireysel kiracı",
        "ocr_cikti": {
          "sender": "ZEYNEP ŞAHİN",
          "sender_iban": "TR88 0001 0012 3456 7890 1234 56",
          "recipient": "AHMET YILMAZ",
          "receiver_iban": "TR33 0006 1005 1978 6457 8413 26",
          "amount": "45.000,00",
          "amount_currency": "TRY",
          "date": "20.11.2024 - 14:32:15",
          "description": "KASIM 2024 KİRA BEŞİKTAŞ SİNANPAŞA MAH. DAİRE:8"
        },
        "beklenen_esleme": {
          "owner_id": 1,
          "customer_id": 1,
          "property_id": 1,
          "esleme_ipuclari": {
            "receiver_iban": "TR33 0006 1005 1978 6457 8413 26",
            "recipient_name": "AHMET YILMAZ",
            "address_in_description": "BEŞİKTAŞ SİNANPAŞA",
            "apt_in_description": "DAİRE:8",
            "amount": 45000
          }
        }
      },
      {
        "dekont_id": "DEKONT_002",
        "description": "Kira ödemesi - isim farklılıkları ile",
        "ocr_cikti": {
          "sender": "CAN OZTURK",
          "sender_iban": "TR66 0004 6000 1234 5678 9012 34",
          "recipient": "AYSE DEMÍR",
          "receiver_iban": "TR12 0001 0002 3456 7890 1234 56",
          "amount": "35.000,00",
          "amount_currency": "TRY",
          "date": "18.11.2024 - 09:15:42",
          "description": "Kasim kira MODA DAİRE 12"
        },
        "beklenen_esleme": {
          "owner_id": 2,
          "customer_id": 2,
          "property_id": 2,
          "esleme_ipuclari": {
            "receiver_iban": "TR12 0001 0002 3456 7890 1234 56",
            "name_similarity_note": "AYSE DEMIR vs AYSE DEMÍR (Türkçe karakter farklılığı)",
            "address_in_description": "MODA",
            "apt_in_description": "DAİRE 12",
            "amount": 35000
          }
        }
      },
      {
        "dekont_id": "DEKONT_003",
        "description": "Kurumsal kira ödemesi - ofis",
        "ocr_cikti": {
          "sender": "TEKNOLOJİ ANONİM ŞİRKETİ",
          "sender_iban": "TR98 0006 4000 0011 1234 5678 90",
          "recipient": "MEHMET KAYA",
          "receiver_iban": "TR45 0004 6000 8888 8000 0123 45",
          "amount": "75000,00",
          "amount_currency": "TRY",
          "date": "15.11.2024 - 16:45:30",
          "description": "2024/11 OFİS KİRASI MECİDİYEKÖY PLAZA KAT:3"
        },
        "beklenen_esleme": {
          "owner_id": 3,
          "customer_id": 3,
          "property_id": 3,
          "esleme_ipuclari": {
            "receiver_iban": "TR45 0004 6000 8888 8000 0123 45",
            "recipient_name": "MEHMET KAYA",
            "sender_company": "TEKNOLOJİ ANONİM ŞİRKETİ",
            "address_in_description": "MECİDİYEKÖY PLAZA",
            "amount": 75000
          }
        }
      },
      {
        "dekont_id": "DEKONT_004",
        "description": "Eksik bilgili dekont - sadece IBAN ve tutar net",
        "ocr_cikti": {
          "sender": "Z.SAHIN",
          "sender_iban": "TR11 0006 2000 5550 0000 1234 56",
          "recipient": "A.YILMAZ",
          "receiver_iban": "TR33 0006 1005 1978 6457 8413 26",
          "amount": "45.000",
          "amount_currency": "TRY",
          "date": "05.11.2024 - 11:20",
          "description": "kira"
        },
        "beklenen_esleme": {
          "owner_id": 1,
          "customer_id": 1,
          "property_id": 1,
          "esleme_ipuclari": {
            "receiver_iban": "TR33 0006 1005 1978 6457 8413 26",
            "recipient_abbreviation": "A.YILMAZ",
            "sender_abbreviation": "Z.SAHIN",
            "amount": 45000,
            "note": "IBAN should be the main matching criterion"
          }
        }
      },
      {
        "dekont_id": "DEKONT_005",
        "description": "OCR hataları içeren dekont",
        "ocr_cikti": {
          "sender": "CAN 0ZTURK",
          "sender_iban": "TR66O0046OOO12345678901234",
          "recipient": "AY5E DEMlR",
          "receiver_iban": "TR12 OOO1 OOO2 3456 789O 1234 56",
          "amount": "35,OOO.OO",
          "amount_currency": "TRY",
          "date": "2O.11.2O24 - 1O:3O",
          "description": "KASIM K1RA M0DA"
        },
        "beklenen_esleme": {
          "owner_id": 2,
          "customer_id": 2,
          "property_id": 2,
          "ocr_corrections": {
            "sender": "CAN 0ZTURK -> CAN ÖZTÜRK (0 instead of Ö)",
            "sender_iban": "O should be zero",
            "recipient": "AY5E DEMlR -> AYŞE DEMİR (5 instead of Ş, l instead of İ)",
            "receiver_iban": "O should be zero",
            "amount": "35,OOO.OO -> 35000.00 (O should be zero)",
            "date": "2O -> 20 (O should be zero)",
            "description": "1 instead of İ, 0 instead of O"
          },
          "esleme_ipuclari": {
            "fuzzy_matching_required": true,
            "iban_normalize": "Remove spaces, O/0 conversion",
            "name_similarity_threshold": 0.8
          }
        }
      }
    ],
    "matching_algorithm_recommendations": {
      "priority_order": [
        {
          "rank": 1,
          "criterion": "IBAN matching",
          "description": "Recipient IBAN should exactly match Owner IBAN",
          "confidence_score": 95
        },
        {
          "rank": 2,
          "criterion": "Amount matching",
          "description": "Receipt amount should match property price (±5% tolerance)",
          "confidence_score": 85
        },
        {
          "rank": 3,
          "criterion": "Name similarity",
          "description": "Recipient name should fuzzy match Owner name (Levenshtein distance)",
          "confidence_score": 75
        },
        {
          "rank": 4,
          "criterion": "Address information",
          "description": "Description should contain property address parts (neighborhood, street, apt)",
          "confidence_score": 70
        },
        {
          "rank": 5,
          "criterion": "Sender information",
          "description": "Sender name should match Customer name",
          "confidence_score": 60
        }
      ],
      "normalization_rules": {
        "iban": [
          "Remove all spaces",
          "Convert to uppercase",
          "Check O vs 0 (zero) conversion",
          "Check I/l vs 1 conversion"
        ],
        "name": [
          "Convert to uppercase",
          "Normalize Turkish characters (ı->I, ş->S, ğ->G, ü->U, ö->O, ç->C)",
          "Reduce double spaces to single",
          "Trim leading/trailing spaces"
        ],
        "amount": [
          "Standardize dot and comma separators",
          "Remove TL/TRY/₺ symbols",
          "Parse as decimal"
        ],
        "date": [
          "Support different formats (DD.MM.YYYY, DD/MM/YYYY)",
          "Check 0/O OCR errors"
        ]
      }
    }
  }
  
  